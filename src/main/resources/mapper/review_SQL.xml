<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" " http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="review">

<!-- 리뷰 작성 -->
<insert id="reviewUserWrite" parameterType="hashmap"> 
<![CDATA[ 
insert into tb_review(
REVIEW_INDEX
USER_ID
REVIEW_DATE
REVIEW_TITLE
REVIEW_CONTENT
DEL_GB
)
values(
REVIEW_INDEX_SEQ.NEXTVAL,
#{USER_ID},
SYSDATE,
#{REVIEW_TITLE},
#{REVIEW_CONTENT},
'N'
)
]]>
</insert>

<!-- 리뷰 상세페이지 -->
<select id="reviewDetail" parameterType="hashmap" resultType="hashmap"> 
<![CDATA[ 
select
R.REVIEW_INDEX,
R.USER_ID,
R.REVIEW_DATE,
R.REVIEW_TITLE,
R.REVIEW_CONTENT,
M.USER_ID
FROM 
TB_REVIEW R, TB_MEMBER M
WHERE
R.USER_ID = M.USER_ID AND R.REVIEW_INDEX = #{REVIEW_INDEX}
]]>
	</select>

<!-- 리뷰 삭제 -->
<delete id="reviewDelete" parameterType="hashmap">
<![CDATA[
UPDATE TB_REVIEW
SET DEL_GB = 'Y'
WHERE
REVIEW_INDEX = #{REVIEW_INDEX}
]]>
</delete>
</mapper>